name: Build & Publish Release APK

on:
push:
tags:
- '*'

jobs:
build:
runs-on: ubuntu-latest

steps:
- name: Checkout code
uses: actions/checkout@v2

- name: Set up JDK
uses: actions/setup-java@v1
with:
java-version: 11

- name: Make Gradle executable
run: chmod +x ./gradlew

- name: Build Release APK
run: ./gradlew assembleRelease

- name: Releasing using Hub
uses: sangatdesai/release-apk@main
env:
GITHUB_TOKEN: ${{ secrets.TOKEN }}
APP_FOLDER: app
